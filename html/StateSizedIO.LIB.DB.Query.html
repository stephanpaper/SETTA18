<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>StateSizedIO.LIB.DB.Query</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda">
<a id="2" class="Keyword">module</a> <a id="9" href="StateSizedIO.LIB.DB.Query.html" class="Module">StateSizedIO.LIB.DB.Query</a> <a id="35" class="Keyword">where</a>

<a id="42" class="Keyword">open</a> <a id="47" class="Keyword">import</a> <a id="54" href="Data.Product.html" class="Module">Data.Product</a> <a id="67" class="Keyword">renaming</a> <a id="76" class="Symbol">(</a><a id="77" href="Agda.Builtin.Sigma.html#225" class="Field">proj₁</a> <a id="83" class="Symbol">to</a> <a id="86" class="Field">fst</a><a id="89" class="Symbol">;</a> <a id="91" href="Agda.Builtin.Sigma.html#237" class="Field">proj₂</a> <a id="97" class="Symbol">to</a> <a id="100" class="Field">snd</a><a id="103" class="Symbol">)</a>
<a id="105" class="Keyword">open</a> <a id="110" class="Keyword">import</a> <a id="117" href="Data.Bool.html" class="Module">Data.Bool</a>
<a id="127" class="Keyword">open</a> <a id="132" class="Keyword">import</a> <a id="139" href="Data.String.html" class="Module">Data.String</a> <a id="151" class="Keyword">renaming</a> <a id="160" class="Symbol">(</a><a id="161" href="Data.String.Base.html#2366" class="Function Operator">_++_</a> <a id="166" class="Symbol">to</a> <a id="169" class="Function Operator">_+++_</a><a id="174" class="Symbol">)</a> <a id="176" class="Keyword">hiding</a> <a id="183" class="Symbol">(</a><a id="184" href="Data.String.Base.html#1561" class="Primitive">show</a><a id="188" class="Symbol">)</a>
<a id="190" class="Keyword">open</a> <a id="195" class="Keyword">import</a> <a id="202" href="Data.List.html" class="Module">Data.List</a> <a id="212" class="Keyword">hiding</a> <a id="219" class="Symbol">(</a><a id="220" href="Data.List.Base.html#6106" class="Function">lookup</a><a id="226" class="Symbol">)</a>
<a id="228" class="Keyword">open</a> <a id="233" class="Keyword">import</a> <a id="240" href="Data.Vec.html" class="Module">Data.Vec</a> <a id="249" class="Keyword">hiding</a> <a id="256" class="Symbol">(</a><a id="257" href="Data.Vec.Base.html#1605" class="Function">lookup</a><a id="263" class="Symbol">;</a> <a id="265" href="Data.Vec.Base.html#2709" class="Function Operator">_++_</a><a id="269" class="Symbol">)</a>
<a id="271" class="Keyword">open</a> <a id="276" class="Keyword">import</a> <a id="283" href="Function.html" class="Module">Function</a>
<a id="292" class="Keyword">open</a> <a id="297" class="Keyword">import</a> <a id="304" href="Data.Integer.html" class="Module">Data.Integer</a> <a id="317" class="Keyword">renaming</a> <a id="326" class="Symbol">(</a><a id="327" href="Data.Integer.html#946" class="Function">show</a> <a id="332" class="Symbol">to</a> <a id="335" class="Function">showℤ</a><a id="340" class="Symbol">)</a>
<a id="342" class="Keyword">open</a> <a id="347" class="Keyword">import</a> <a id="354" href="Data.Integer.Show.html" class="Module">Data.Integer.Show</a>

<a id="373" class="Keyword">import</a> <a id="380" href="StateSizedIO.LIB.DB.Dictionary.html" class="Module">StateSizedIO.LIB.DB.Dictionary</a>

<a id="412" class="Keyword">open</a> <a id="417" class="Keyword">import</a> <a id="424" href="StateSizedIO.LIB.DB.Schema.html" class="Module">StateSizedIO.LIB.DB.Schema</a>
<a id="451" class="Comment">--open import Universe</a>
<a id="474" class="Keyword">open</a> <a id="479" href="StateSizedIO.LIB.DB.Dictionary.html" class="Module">StateSizedIO.LIB.DB.Dictionary</a> <a id="510" class="Symbol">{</a><a id="511" href="Agda.Builtin.String.html#309" class="Postulate">String</a><a id="517" class="Symbol">}</a> <a id="519" href="Data.String.Properties.html#4340" class="Function Operator">_==_</a>
<a id="524" class="Keyword">open</a> <a id="529" class="Keyword">import</a> <a id="536" href="StateSizedIO.LIB.DB.DBUniverse.html" class="Module">StateSizedIO.LIB.DB.DBUniverse</a>



<a id="570" class="Keyword">data</a> <a id="ExprType"></a><a id="575" href="StateSizedIO.LIB.DB.Query.html#575" class="Datatype">ExprType</a> <a id="584" class="Symbol">:</a> <a id="586" href="Agda.Primitive.html#311" class="Primitive">Set</a> <a id="590" class="Keyword">where</a>
  <a id="ExprType.bool"></a><a id="598" href="StateSizedIO.LIB.DB.Query.html#598" class="InductiveConstructor">bool</a>  <a id="604" class="Symbol">:</a> <a id="606" href="StateSizedIO.LIB.DB.Query.html#575" class="Datatype">ExprType</a>
  <a id="ExprType.ftype"></a><a id="617" href="StateSizedIO.LIB.DB.Query.html#617" class="InductiveConstructor">ftype</a> <a id="623" class="Symbol">:</a> <a id="625" href="StateSizedIO.LIB.DB.Schema.html#470" class="Datatype">FieldType</a> <a id="635" class="Symbol">-&gt;</a> <a id="638" href="StateSizedIO.LIB.DB.Query.html#575" class="Datatype">ExprType</a>

<a id="648" class="Comment">-- Exercise: add more interesting expressions.</a>
<a id="695" class="Comment">-- For instance, less than or greater than comparisons. Look at the SQL documentation for ideas.</a>



<a id="795" class="Comment">-- Expressions are</a>
<a id="814" class="Comment">--   ! fieldname       fieldname is a string for a field in a table</a>
<a id="882" class="Comment">--   val v             v is value for a field</a>
<a id="928" class="Comment">--   s == t            equality between two expressions</a>
<a id="984" class="Comment">-- If a table has for instance field  &quot;name&quot; of type string</a>
<a id="1044" class="Comment">-- expressions could be</a>
<a id="1068" class="Comment">-- ! &quot;name&quot; == &quot;Tom&quot;</a>
<a id="1089" class="Comment">-- standing for the expression   name = &quot;Tom&quot;</a>


<a id="1137" class="Keyword">data</a> <a id="Expr"></a><a id="1142" href="StateSizedIO.LIB.DB.Query.html#1142" class="Datatype">Expr</a> <a id="1147" class="Symbol">(</a><a id="1148" href="StateSizedIO.LIB.DB.Query.html#1148" class="Bound">t</a> <a id="1150" class="Symbol">:</a> <a id="1152" href="StateSizedIO.LIB.DB.Schema.html#807" class="Function">TableType</a><a id="1161" class="Symbol">)</a> <a id="1163" class="Symbol">:</a> <a id="1165" href="StateSizedIO.LIB.DB.Query.html#575" class="Datatype">ExprType</a> <a id="1174" class="Symbol">-&gt;</a> <a id="1177" href="Agda.Primitive.html#311" class="Primitive">Set</a> <a id="1181" class="Keyword">where</a>
  <a id="Expr._===_"></a><a id="1189" href="StateSizedIO.LIB.DB.Query.html#1189" class="InductiveConstructor Operator">_===_</a> <a id="1195" class="Symbol">:</a> <a id="1197" class="Symbol">forall</a> <a id="1204" class="Symbol">{</a><a id="1205" href="StateSizedIO.LIB.DB.Query.html#1205" class="Bound">a</a><a id="1206" class="Symbol">}</a> <a id="1208" class="Symbol">-&gt;</a> <a id="1211" href="StateSizedIO.LIB.DB.Query.html#1142" class="Datatype">Expr</a> <a id="1216" href="StateSizedIO.LIB.DB.Query.html#1148" class="Bound">t</a> <a id="1218" href="StateSizedIO.LIB.DB.Query.html#1205" class="Bound">a</a> <a id="1220" class="Symbol">-&gt;</a> <a id="1223" href="StateSizedIO.LIB.DB.Query.html#1142" class="Datatype">Expr</a> <a id="1228" href="StateSizedIO.LIB.DB.Query.html#1148" class="Bound">t</a> <a id="1230" href="StateSizedIO.LIB.DB.Query.html#1205" class="Bound">a</a> <a id="1232" class="Symbol">-&gt;</a> <a id="1235" href="StateSizedIO.LIB.DB.Query.html#1142" class="Datatype">Expr</a> <a id="1240" href="StateSizedIO.LIB.DB.Query.html#1148" class="Bound">t</a> <a id="1242" href="StateSizedIO.LIB.DB.Query.html#598" class="InductiveConstructor">bool</a>
  <a id="Expr.!_"></a><a id="1249" href="StateSizedIO.LIB.DB.Query.html#1249" class="InductiveConstructor Operator">!_</a>    <a id="1255" class="Symbol">:</a> <a id="1257" class="Symbol">forall</a> <a id="1264" href="StateSizedIO.LIB.DB.Query.html#1264" class="Bound">x</a> <a id="1266" class="Symbol">{</a><a id="1267" href="StateSizedIO.LIB.DB.Query.html#1267" class="Bound">p</a> <a id="1269" class="Symbol">:</a> <a id="1271" href="StateSizedIO.LIB.DB.Dictionary.html#463" class="Function">HasKey</a> <a id="1278" href="StateSizedIO.LIB.DB.Query.html#1264" class="Bound">x</a> <a id="1280" href="StateSizedIO.LIB.DB.Query.html#1148" class="Bound">t</a><a id="1281" class="Symbol">}</a> <a id="1283" class="Symbol">-&gt;</a> <a id="1286" href="StateSizedIO.LIB.DB.Query.html#1142" class="Datatype">Expr</a> <a id="1291" href="StateSizedIO.LIB.DB.Query.html#1148" class="Bound">t</a> <a id="1293" class="Symbol">(</a><a id="1294" href="StateSizedIO.LIB.DB.Query.html#617" class="InductiveConstructor">ftype</a> <a id="1300" class="Symbol">(</a><a id="1301" href="StateSizedIO.LIB.DB.Query.html#86" class="Field">fst</a> <a id="1305" class="Symbol">(</a><a id="1306" href="StateSizedIO.LIB.DB.Dictionary.html#537" class="Function">lookup</a> <a id="1313" href="StateSizedIO.LIB.DB.Query.html#1264" class="Bound">x</a> <a id="1315" href="StateSizedIO.LIB.DB.Query.html#1148" class="Bound">t</a> <a id="1317" class="Symbol">{</a><a id="1318" href="StateSizedIO.LIB.DB.Query.html#1267" class="Bound">p</a><a id="1319" class="Symbol">})))</a>
  <a id="Expr.val"></a><a id="1326" href="StateSizedIO.LIB.DB.Query.html#1326" class="InductiveConstructor">val</a>   <a id="1332" class="Symbol">:</a> <a id="1334" class="Symbol">forall</a> <a id="1341" class="Symbol">{</a><a id="1342" href="StateSizedIO.LIB.DB.Query.html#1342" class="Bound">a</a><a id="1343" class="Symbol">}</a> <a id="1345" class="Symbol">-&gt;</a> <a id="1348" href="StateSizedIO.LIB.DB.Schema.html#2884" class="Function">Field</a> <a id="1354" href="StateSizedIO.LIB.DB.Query.html#1342" class="Bound">a</a> <a id="1356" class="Symbol">-&gt;</a> <a id="1359" href="StateSizedIO.LIB.DB.Query.html#1142" class="Datatype">Expr</a> <a id="1364" href="StateSizedIO.LIB.DB.Query.html#1148" class="Bound">t</a> <a id="1366" class="Symbol">(</a><a id="1367" href="StateSizedIO.LIB.DB.Query.html#617" class="InductiveConstructor">ftype</a> <a id="1373" href="StateSizedIO.LIB.DB.Query.html#1342" class="Bound">a</a><a id="1374" class="Symbol">)</a>

<a id="1377" class="Comment">-- Exercise: add more interesting queries. For instance,</a>
<a id="1434" class="Comment">-- 1. Make it possible to rename fields to allow combining tables with overlapping column names.</a>
<a id="1531" class="Comment">-- 2. SQL supports counting and ordering results. Add this to our queries.</a>


<a id="1608" class="Comment">-- Queries are</a>
<a id="1623" class="Comment">--  read &quot;tablename&quot;</a>
<a id="1644" class="Comment">--       corresponding  to select tablename</a>
<a id="1688" class="Comment">--  p ⊗ p&#39;    which is an outer join of two queries</a>
<a id="1740" class="Comment">--  select t q     ist</a>
<a id="1763" class="Comment">--                query q where t</a>
<a id="1797" class="Comment">--  proj as q</a>
<a id="1811" class="Comment">--    is where you select one field in a query</a>
<a id="1858" class="Comment">--</a>
<a id="1861" class="Keyword">data</a> <a id="Query"></a><a id="1866" href="StateSizedIO.LIB.DB.Query.html#1866" class="Datatype">Query</a> <a id="1872" class="Symbol">(</a><a id="1873" href="StateSizedIO.LIB.DB.Query.html#1873" class="Bound">s</a> <a id="1875" class="Symbol">:</a> <a id="1877" href="StateSizedIO.LIB.DB.Schema.html#834" class="Function">Schema</a><a id="1883" class="Symbol">)</a> <a id="1885" class="Symbol">:</a> <a id="1887" href="StateSizedIO.LIB.DB.Schema.html#807" class="Function">TableType</a> <a id="1897" class="Symbol">-&gt;</a> <a id="1900" href="Agda.Primitive.html#311" class="Primitive">Set</a> <a id="1904" class="Keyword">where</a>
  <a id="Query.read"></a><a id="1912" href="StateSizedIO.LIB.DB.Query.html#1912" class="InductiveConstructor">read</a>   <a id="1919" class="Symbol">:</a> <a id="1921" class="Symbol">(</a><a id="1922" href="StateSizedIO.LIB.DB.Query.html#1922" class="Bound">x</a> <a id="1924" class="Symbol">:</a> <a id="1926" href="StateSizedIO.LIB.DB.Schema.html#674" class="Function">TableName</a><a id="1935" class="Symbol">){</a><a id="1937" href="StateSizedIO.LIB.DB.Query.html#1937" class="Bound">p</a> <a id="1939" class="Symbol">:</a> <a id="1941" href="StateSizedIO.LIB.DB.Dictionary.html#463" class="Function">HasKey</a> <a id="1948" href="StateSizedIO.LIB.DB.Query.html#1922" class="Bound">x</a> <a id="1950" href="StateSizedIO.LIB.DB.Query.html#1873" class="Bound">s</a><a id="1951" class="Symbol">}</a> <a id="1953" class="Symbol">-&gt;</a> <a id="1956" href="StateSizedIO.LIB.DB.Query.html#1866" class="Datatype">Query</a> <a id="1962" href="StateSizedIO.LIB.DB.Query.html#1873" class="Bound">s</a> <a id="1964" class="Symbol">(</a><a id="1965" href="StateSizedIO.LIB.DB.Dictionary.html#537" class="Function">lookup</a> <a id="1972" href="StateSizedIO.LIB.DB.Query.html#1922" class="Bound">x</a> <a id="1974" href="StateSizedIO.LIB.DB.Query.html#1873" class="Bound">s</a> <a id="1976" class="Symbol">{</a><a id="1977" href="StateSizedIO.LIB.DB.Query.html#1937" class="Bound">p</a><a id="1978" class="Symbol">})</a>
  <a id="Query._⊗_"></a><a id="1983" href="StateSizedIO.LIB.DB.Query.html#1983" class="InductiveConstructor Operator">_⊗_</a>    <a id="1990" class="Symbol">:</a> <a id="1992" class="Symbol">forall</a> <a id="1999" class="Symbol">{</a><a id="2000" href="StateSizedIO.LIB.DB.Query.html#2000" class="Bound">t</a> <a id="2002" href="StateSizedIO.LIB.DB.Query.html#2002" class="Bound">t&#39;</a><a id="2004" class="Symbol">}{</a><a id="2006" href="StateSizedIO.LIB.DB.Query.html#2006" class="Bound">p</a> <a id="2008" class="Symbol">:</a> <a id="2010" href="StateSizedIO.LIB.DB.Dictionary.html#1570" class="Function">Disjoint</a> <a id="2019" href="StateSizedIO.LIB.DB.Query.html#2000" class="Bound">t</a> <a id="2021" href="StateSizedIO.LIB.DB.Query.html#2002" class="Bound">t&#39;</a><a id="2023" class="Symbol">}</a> <a id="2025" class="Symbol">-&gt;</a>
           <a id="2039" href="StateSizedIO.LIB.DB.Query.html#1866" class="Datatype">Query</a> <a id="2045" href="StateSizedIO.LIB.DB.Query.html#1873" class="Bound">s</a> <a id="2047" href="StateSizedIO.LIB.DB.Query.html#2000" class="Bound">t</a> <a id="2049" class="Symbol">-&gt;</a> <a id="2052" href="StateSizedIO.LIB.DB.Query.html#1866" class="Datatype">Query</a> <a id="2058" href="StateSizedIO.LIB.DB.Query.html#1873" class="Bound">s</a> <a id="2060" href="StateSizedIO.LIB.DB.Query.html#2002" class="Bound">t&#39;</a> <a id="2063" class="Symbol">-&gt;</a> <a id="2066" href="StateSizedIO.LIB.DB.Query.html#1866" class="Datatype">Query</a> <a id="2072" href="StateSizedIO.LIB.DB.Query.html#1873" class="Bound">s</a> <a id="2074" class="Symbol">(</a><a id="2075" href="StateSizedIO.LIB.DB.Query.html#2000" class="Bound">t</a> <a id="2077" href="Data.List.Base.html#1810" class="Function Operator">++</a> <a id="2080" href="StateSizedIO.LIB.DB.Query.html#2002" class="Bound">t&#39;</a><a id="2082" class="Symbol">)</a>
  <a id="Query.proj"></a><a id="2086" href="StateSizedIO.LIB.DB.Query.html#2086" class="InductiveConstructor">proj</a>   <a id="2093" class="Symbol">:</a> <a id="2095" class="Symbol">forall</a> <a id="2102" class="Symbol">{</a><a id="2103" href="StateSizedIO.LIB.DB.Query.html#2103" class="Bound">t</a><a id="2104" class="Symbol">}</a> <a id="2106" href="StateSizedIO.LIB.DB.Query.html#2106" class="Bound">xs</a> <a id="2109" class="Symbol">{</a><a id="2110" href="StateSizedIO.LIB.DB.Query.html#2110" class="Bound">p</a> <a id="2112" class="Symbol">:</a> <a id="2114" href="StateSizedIO.LIB.DB.Dictionary.html#827" class="Function">HasKeys</a> <a id="2122" href="StateSizedIO.LIB.DB.Query.html#2106" class="Bound">xs</a> <a id="2125" href="StateSizedIO.LIB.DB.Query.html#2103" class="Bound">t</a><a id="2126" class="Symbol">}</a> <a id="2128" class="Symbol">-&gt;</a>
           <a id="2142" href="StateSizedIO.LIB.DB.Query.html#1866" class="Datatype">Query</a> <a id="2148" href="StateSizedIO.LIB.DB.Query.html#1873" class="Bound">s</a> <a id="2150" href="StateSizedIO.LIB.DB.Query.html#2103" class="Bound">t</a> <a id="2152" class="Symbol">-&gt;</a> <a id="2155" href="StateSizedIO.LIB.DB.Query.html#1866" class="Datatype">Query</a> <a id="2161" href="StateSizedIO.LIB.DB.Query.html#1873" class="Bound">s</a> <a id="2163" class="Symbol">(</a><a id="2164" href="StateSizedIO.LIB.DB.Dictionary.html#1080" class="Function">project</a> <a id="2172" href="StateSizedIO.LIB.DB.Query.html#2106" class="Bound">xs</a> <a id="2175" href="StateSizedIO.LIB.DB.Query.html#2103" class="Bound">t</a> <a id="2177" class="Symbol">{</a><a id="2178" href="StateSizedIO.LIB.DB.Query.html#2110" class="Bound">p</a><a id="2179" class="Symbol">})</a>
  <a id="Query.select"></a><a id="2184" href="StateSizedIO.LIB.DB.Query.html#2184" class="InductiveConstructor">select</a> <a id="2191" class="Symbol">:</a> <a id="2193" class="Symbol">forall</a> <a id="2200" class="Symbol">{</a><a id="2201" href="StateSizedIO.LIB.DB.Query.html#2201" class="Bound">t</a><a id="2202" class="Symbol">}</a> <a id="2204" class="Symbol">-&gt;</a> <a id="2207" href="StateSizedIO.LIB.DB.Query.html#1142" class="Datatype">Expr</a> <a id="2212" href="StateSizedIO.LIB.DB.Query.html#2201" class="Bound">t</a> <a id="2214" href="StateSizedIO.LIB.DB.Query.html#598" class="InductiveConstructor">bool</a> <a id="2219" class="Symbol">-&gt;</a> <a id="2222" href="StateSizedIO.LIB.DB.Query.html#1866" class="Datatype">Query</a> <a id="2228" href="StateSizedIO.LIB.DB.Query.html#1873" class="Bound">s</a> <a id="2230" href="StateSizedIO.LIB.DB.Query.html#2201" class="Bound">t</a> <a id="2232" class="Symbol">-&gt;</a> <a id="2235" href="StateSizedIO.LIB.DB.Query.html#1866" class="Datatype">Query</a> <a id="2241" href="StateSizedIO.LIB.DB.Query.html#1873" class="Bound">s</a> <a id="2243" href="StateSizedIO.LIB.DB.Query.html#2201" class="Bound">t</a>

<a id="2246" class="Comment">-- This might have to be changed when you add more interesting queries.</a>

<a id="2319" class="Keyword">data</a> <a id="SQL"></a><a id="2324" href="StateSizedIO.LIB.DB.Query.html#2324" class="Datatype">SQL</a> <a id="2328" class="Symbol">:</a> <a id="2330" href="Agda.Primitive.html#311" class="Primitive">Set</a> <a id="2334" class="Keyword">where</a>
  <a id="SQL.SELECT_FROM_WHERE_"></a><a id="2342" href="StateSizedIO.LIB.DB.Query.html#2342" class="InductiveConstructor Operator">SELECT_FROM_WHERE_</a> <a id="2361" class="Symbol">:</a> <a id="2363" href="Agda.Builtin.List.html#121" class="Datatype">List</a> <a id="2368" href="StateSizedIO.LIB.DB.Schema.html#693" class="Function">FieldName</a> <a id="2378" class="Symbol">-&gt;</a> <a id="2381" href="Agda.Builtin.List.html#121" class="Datatype">List</a> <a id="2386" href="StateSizedIO.LIB.DB.Schema.html#674" class="Function">TableName</a> <a id="2396" class="Symbol">-&gt;</a> <a id="2399" href="Agda.Builtin.List.html#121" class="Datatype">List</a> <a id="2404" href="Agda.Builtin.String.html#309" class="Postulate">String</a> <a id="2411" class="Symbol">-&gt;</a> <a id="2414" href="StateSizedIO.LIB.DB.Query.html#2324" class="Datatype">SQL</a>


<a id="2420" class="Comment">-- sepBy takes a list of strings, concatenates them but putting in between</a>
<a id="2495" class="Comment">--   the first argument.</a>
<a id="sepBy"></a><a id="2520" href="StateSizedIO.LIB.DB.Query.html#2520" class="Function">sepBy</a> <a id="2526" class="Symbol">:</a> <a id="2528" href="Agda.Builtin.String.html#309" class="Postulate">String</a> <a id="2535" class="Symbol">-&gt;</a> <a id="2538" href="Agda.Builtin.List.html#121" class="Datatype">List</a> <a id="2543" href="Agda.Builtin.String.html#309" class="Postulate">String</a> <a id="2550" class="Symbol">-&gt;</a> <a id="2553" href="Agda.Builtin.String.html#309" class="Postulate">String</a>
<a id="2560" href="StateSizedIO.LIB.DB.Query.html#2520" class="Function">sepBy</a> <a id="2566" class="Symbol">_</a> <a id="2568" href="Agda.Builtin.List.html#158" class="InductiveConstructor">[]</a> <a id="2571" class="Symbol">=</a> <a id="2573" class="String">&quot;&quot;</a>
<a id="2576" href="StateSizedIO.LIB.DB.Query.html#2520" class="Function">sepBy</a> <a id="2582" class="Symbol">_</a> <a id="2584" class="Symbol">(</a><a id="2585" href="StateSizedIO.LIB.DB.Query.html#2585" class="Bound">x</a> <a id="2587" href="Agda.Builtin.List.html#173" class="InductiveConstructor Operator">∷</a> <a id="2589" href="Agda.Builtin.List.html#158" class="InductiveConstructor">[]</a><a id="2591" class="Symbol">)</a> <a id="2593" class="Symbol">=</a> <a id="2595" href="StateSizedIO.LIB.DB.Query.html#2585" class="Bound">x</a>
<a id="2597" href="StateSizedIO.LIB.DB.Query.html#2520" class="CatchallClause Function">sepBy</a><a id="2602" class="CatchallClause"> </a><a id="2603" href="StateSizedIO.LIB.DB.Query.html#2603" class="CatchallClause Bound">i</a><a id="2604" class="CatchallClause"> </a><a id="2605" class="CatchallClause Symbol">(</a><a id="2606" href="StateSizedIO.LIB.DB.Query.html#2606" class="CatchallClause Bound">x</a><a id="2607" class="CatchallClause"> </a><a id="2608" href="Agda.Builtin.List.html#173" class="CatchallClause InductiveConstructor Operator">∷</a><a id="2609" class="CatchallClause"> </a><a id="2610" href="StateSizedIO.LIB.DB.Query.html#2610" class="CatchallClause Bound">xs</a><a id="2612" class="CatchallClause Symbol">)</a> <a id="2614" class="Symbol">=</a> <a id="2616" href="StateSizedIO.LIB.DB.Query.html#2606" class="Bound">x</a> <a id="2618" href="StateSizedIO.LIB.DB.Query.html#169" class="Function Operator">+++</a> <a id="2622" href="StateSizedIO.LIB.DB.Query.html#2603" class="Bound">i</a> <a id="2624" href="StateSizedIO.LIB.DB.Query.html#169" class="Function Operator">+++</a> <a id="2628" href="StateSizedIO.LIB.DB.Query.html#2520" class="Function">sepBy</a> <a id="2634" href="StateSizedIO.LIB.DB.Query.html#2603" class="Bound">i</a> <a id="2636" href="StateSizedIO.LIB.DB.Query.html#2610" class="Bound">xs</a>

<a id="showField"></a><a id="2640" href="StateSizedIO.LIB.DB.Query.html#2640" class="Function">showField</a> <a id="2650" class="Symbol">:</a> <a id="2652" class="Symbol">forall</a> <a id="2659" class="Symbol">{</a><a id="2660" href="StateSizedIO.LIB.DB.Query.html#2660" class="Bound">a</a><a id="2661" class="Symbol">}</a> <a id="2663" class="Symbol">-&gt;</a> <a id="2666" href="StateSizedIO.LIB.DB.Schema.html#2884" class="Function">Field</a> <a id="2672" href="StateSizedIO.LIB.DB.Query.html#2660" class="Bound">a</a> <a id="2674" class="Symbol">-&gt;</a> <a id="2677" href="Agda.Builtin.String.html#309" class="Postulate">String</a>
<a id="2684" href="StateSizedIO.LIB.DB.Query.html#2640" class="Function">showField</a> <a id="2694" class="Symbol">{</a><a id="2695" href="StateSizedIO.LIB.DB.Schema.html#494" class="InductiveConstructor">string</a><a id="2701" class="Symbol">}</a> <a id="2703" href="StateSizedIO.LIB.DB.Query.html#2703" class="Bound">s</a> <a id="2705" class="Symbol">=</a> <a id="2707" class="String">&quot;&#39;&quot;</a> <a id="2711" href="StateSizedIO.LIB.DB.Query.html#169" class="Function Operator">+++</a> <a id="2715" href="StateSizedIO.LIB.DB.Query.html#2703" class="Bound">s</a> <a id="2717" href="StateSizedIO.LIB.DB.Query.html#169" class="Function Operator">+++</a> <a id="2721" class="String">&quot;&#39;&quot;</a> <a id="2725" class="Comment">--listToString (vecToList s) +++ &quot;&#39;&quot;  -- TODO: escaping</a>
<a id="2781" href="StateSizedIO.LIB.DB.Query.html#2640" class="Function">showField</a> <a id="2791" class="Symbol">{</a><a id="2792" href="StateSizedIO.LIB.DB.Schema.html#516" class="InductiveConstructor">integer</a><a id="2799" class="Symbol">}</a> <a id="2801" href="StateSizedIO.LIB.DB.Query.html#2801" class="Bound">n</a> <a id="2803" class="Symbol">=</a> <a id="2805" href="Data.Integer.Show.html#606" class="Function">Data.Integer.Show.show</a> <a id="2828" href="StateSizedIO.LIB.DB.Query.html#2801" class="Bound">n</a>


<a id="2832" class="Comment">-- New row type without names [later perhaps NamedRows with the n</a>
<a id="2898" class="Comment">--</a>

<a id="2902" class="Comment">{-
showRow : forall {t} -&gt; Row t -&gt; String
showRow []        = &quot;&quot;
showRow (_∷_ {name = name} x []) = name +++ &quot; = &quot; +++ showField x
showRow (_∷_ {name = name} x xs) = name +++ &quot; = &quot; +++ showField x +++ &quot;, &quot; +++ showRow xs
-}</a>

<a id="showExpr"></a><a id="3128" href="StateSizedIO.LIB.DB.Query.html#3128" class="Function">showExpr</a> <a id="3137" class="Symbol">:</a> <a id="3139" class="Symbol">forall</a> <a id="3146" class="Symbol">{</a><a id="3147" href="StateSizedIO.LIB.DB.Query.html#3147" class="Bound">t</a> <a id="3149" href="StateSizedIO.LIB.DB.Query.html#3149" class="Bound">a</a><a id="3150" class="Symbol">}</a> <a id="3152" class="Symbol">-&gt;</a> <a id="3155" href="StateSizedIO.LIB.DB.Query.html#1142" class="Datatype">Expr</a> <a id="3160" href="StateSizedIO.LIB.DB.Query.html#3147" class="Bound">t</a> <a id="3162" href="StateSizedIO.LIB.DB.Query.html#3149" class="Bound">a</a> <a id="3164" class="Symbol">-&gt;</a> <a id="3167" href="Agda.Builtin.String.html#309" class="Postulate">String</a>
<a id="3174" href="StateSizedIO.LIB.DB.Query.html#3128" class="Function">showExpr</a> <a id="3183" class="Symbol">(</a><a id="3184" href="StateSizedIO.LIB.DB.Query.html#3184" class="Bound">e₁</a> <a id="3187" href="StateSizedIO.LIB.DB.Query.html#1189" class="InductiveConstructor Operator">===</a> <a id="3191" href="StateSizedIO.LIB.DB.Query.html#3191" class="Bound">e₂</a><a id="3193" class="Symbol">)</a> <a id="3195" class="Symbol">=</a> <a id="3197" href="StateSizedIO.LIB.DB.Query.html#3128" class="Function">showExpr</a> <a id="3206" href="StateSizedIO.LIB.DB.Query.html#3184" class="Bound">e₁</a> <a id="3209" href="StateSizedIO.LIB.DB.Query.html#169" class="Function Operator">+++</a> <a id="3213" class="String">&quot; = &quot;</a> <a id="3219" href="StateSizedIO.LIB.DB.Query.html#169" class="Function Operator">+++</a> <a id="3223" href="StateSizedIO.LIB.DB.Query.html#3128" class="Function">showExpr</a> <a id="3232" href="StateSizedIO.LIB.DB.Query.html#3191" class="Bound">e₂</a>
<a id="3235" href="StateSizedIO.LIB.DB.Query.html#3128" class="Function">showExpr</a> <a id="3244" class="Symbol">(</a><a id="3245" href="StateSizedIO.LIB.DB.Query.html#1249" class="InductiveConstructor Operator">!</a> <a id="3247" href="StateSizedIO.LIB.DB.Query.html#3247" class="Bound">x</a><a id="3248" class="Symbol">)</a> <a id="3250" class="Symbol">=</a> <a id="3252" href="StateSizedIO.LIB.DB.Query.html#3247" class="Bound">x</a>
<a id="3254" href="StateSizedIO.LIB.DB.Query.html#3128" class="Function">showExpr</a> <a id="3263" class="Symbol">(</a><a id="3264" href="StateSizedIO.LIB.DB.Query.html#1326" class="InductiveConstructor">val</a> <a id="3268" href="StateSizedIO.LIB.DB.Query.html#3268" class="Bound">c</a><a id="3269" class="Symbol">)</a> <a id="3271" class="Symbol">=</a> <a id="3273" href="StateSizedIO.LIB.DB.Query.html#2640" class="Function">showField</a> <a id="3283" href="StateSizedIO.LIB.DB.Query.html#3268" class="Bound">c</a>

<a id="showSQL"></a><a id="3286" href="StateSizedIO.LIB.DB.Query.html#3286" class="Function">showSQL</a> <a id="3294" class="Symbol">:</a> <a id="3296" href="StateSizedIO.LIB.DB.Query.html#2324" class="Datatype">SQL</a> <a id="3300" class="Symbol">-&gt;</a> <a id="3303" href="Agda.Builtin.String.html#309" class="Postulate">String</a>
<a id="3310" class="Comment">-- no where clause if that part is missing (pattern match):</a>
<a id="3370" href="StateSizedIO.LIB.DB.Query.html#3286" class="Function">showSQL</a> <a id="3378" class="Symbol">(</a><a id="3379" href="StateSizedIO.LIB.DB.Query.html#2342" class="InductiveConstructor Operator">SELECT</a> <a id="3386" href="StateSizedIO.LIB.DB.Query.html#3386" class="Bound">as</a> <a id="3389" href="StateSizedIO.LIB.DB.Query.html#2342" class="InductiveConstructor Operator">FROM</a> <a id="3394" href="StateSizedIO.LIB.DB.Query.html#3394" class="Bound">ts</a> <a id="3397" href="StateSizedIO.LIB.DB.Query.html#2342" class="InductiveConstructor Operator">WHERE</a> <a id="3403" href="Agda.Builtin.List.html#158" class="InductiveConstructor">[]</a><a id="3405" class="Symbol">)</a> <a id="3407" class="Symbol">=</a>
  <a id="3411" class="String">&quot;SELECT &quot;</a> <a id="3421" href="StateSizedIO.LIB.DB.Query.html#169" class="Function Operator">+++</a> <a id="3425" href="StateSizedIO.LIB.DB.Query.html#2520" class="Function">sepBy</a> <a id="3431" class="String">&quot;, &quot;</a> <a id="3436" href="StateSizedIO.LIB.DB.Query.html#3386" class="Bound">as</a> <a id="3439" href="StateSizedIO.LIB.DB.Query.html#169" class="Function Operator">+++</a> <a id="3443" class="String">&quot; FROM &quot;</a> <a id="3452" href="StateSizedIO.LIB.DB.Query.html#169" class="Function Operator">+++</a> <a id="3456" href="StateSizedIO.LIB.DB.Query.html#2520" class="Function">sepBy</a> <a id="3462" class="String">&quot;, &quot;</a> <a id="3467" href="StateSizedIO.LIB.DB.Query.html#3394" class="Bound">ts</a>
<a id="3470" href="StateSizedIO.LIB.DB.Query.html#3286" class="CatchallClause Function">showSQL</a><a id="3477" class="CatchallClause"> </a><a id="3478" class="CatchallClause Symbol">(</a><a id="3479" href="StateSizedIO.LIB.DB.Query.html#2342" class="CatchallClause InductiveConstructor Operator">SELECT</a><a id="3485" class="CatchallClause"> </a><a id="3486" href="StateSizedIO.LIB.DB.Query.html#3486" class="CatchallClause Bound">as</a><a id="3488" class="CatchallClause"> </a><a id="3489" href="StateSizedIO.LIB.DB.Query.html#2342" class="CatchallClause InductiveConstructor Operator">FROM</a><a id="3493" class="CatchallClause"> </a><a id="3494" href="StateSizedIO.LIB.DB.Query.html#3494" class="CatchallClause Bound">ts</a><a id="3496" class="CatchallClause"> </a><a id="3497" href="StateSizedIO.LIB.DB.Query.html#2342" class="CatchallClause InductiveConstructor Operator">WHERE</a><a id="3502" class="CatchallClause"> </a><a id="3503" href="StateSizedIO.LIB.DB.Query.html#3503" class="CatchallClause Bound">cs</a><a id="3505" class="CatchallClause Symbol">)</a> <a id="3507" class="Symbol">=</a>
  <a id="3511" class="String">&quot;SELECT &quot;</a> <a id="3521" href="StateSizedIO.LIB.DB.Query.html#169" class="Function Operator">+++</a> <a id="3525" href="StateSizedIO.LIB.DB.Query.html#2520" class="Function">sepBy</a> <a id="3531" class="String">&quot;, &quot;</a> <a id="3536" href="StateSizedIO.LIB.DB.Query.html#3486" class="Bound">as</a> <a id="3539" href="StateSizedIO.LIB.DB.Query.html#169" class="Function Operator">+++</a> <a id="3543" class="String">&quot; FROM &quot;</a> <a id="3552" href="StateSizedIO.LIB.DB.Query.html#169" class="Function Operator">+++</a> <a id="3556" href="StateSizedIO.LIB.DB.Query.html#2520" class="Function">sepBy</a> <a id="3562" class="String">&quot;, &quot;</a> <a id="3567" href="StateSizedIO.LIB.DB.Query.html#3494" class="Bound">ts</a> <a id="3570" href="StateSizedIO.LIB.DB.Query.html#169" class="Function Operator">+++</a>
  <a id="3576" class="String">&quot; WHERE &quot;</a> <a id="3586" href="StateSizedIO.LIB.DB.Query.html#169" class="Function Operator">+++</a> <a id="3590" href="StateSizedIO.LIB.DB.Query.html#2520" class="Function">sepBy</a> <a id="3596" class="String">&quot; AND &quot;</a> <a id="3604" href="StateSizedIO.LIB.DB.Query.html#3503" class="Bound">cs</a>

<a id="toSQL"></a><a id="3608" href="StateSizedIO.LIB.DB.Query.html#3608" class="Function">toSQL</a> <a id="3614" class="Symbol">:</a> <a id="3616" class="Symbol">forall</a> <a id="3623" class="Symbol">{</a><a id="3624" href="StateSizedIO.LIB.DB.Query.html#3624" class="Bound">s</a> <a id="3626" href="StateSizedIO.LIB.DB.Query.html#3626" class="Bound">t</a><a id="3627" class="Symbol">}</a> <a id="3629" class="Symbol">-&gt;</a> <a id="3632" href="StateSizedIO.LIB.DB.Query.html#1866" class="Datatype">Query</a> <a id="3638" href="StateSizedIO.LIB.DB.Query.html#3624" class="Bound">s</a> <a id="3640" href="StateSizedIO.LIB.DB.Query.html#3626" class="Bound">t</a> <a id="3642" class="Symbol">-&gt;</a> <a id="3645" href="StateSizedIO.LIB.DB.Query.html#2324" class="Datatype">SQL</a>
<a id="3649" href="StateSizedIO.LIB.DB.Query.html#3608" class="Function">toSQL</a> <a id="3655" class="Symbol">{</a><a id="3656" href="StateSizedIO.LIB.DB.Query.html#3656" class="Bound">s</a><a id="3657" class="Symbol">}</a> <a id="3659" class="Symbol">(</a><a id="3660" href="StateSizedIO.LIB.DB.Query.html#1912" class="InductiveConstructor">read</a> <a id="3665" href="StateSizedIO.LIB.DB.Query.html#3665" class="Bound">x</a> <a id="3667" class="Symbol">{</a><a id="3668" href="StateSizedIO.LIB.DB.Query.html#3668" class="Bound">p</a><a id="3669" class="Symbol">})</a> <a id="3672" class="Symbol">=</a> <a id="3674" href="StateSizedIO.LIB.DB.Query.html#2342" class="InductiveConstructor Operator">SELECT</a> <a id="3681" class="Symbol">(</a><a id="3682" href="Data.List.Base.html#1544" class="Function">Data.List.map</a> <a id="3696" href="StateSizedIO.LIB.DB.Query.html#86" class="Field">fst</a> <a id="3700" class="Symbol">(</a><a id="3701" href="StateSizedIO.LIB.DB.Dictionary.html#537" class="Function">lookup</a> <a id="3708" href="StateSizedIO.LIB.DB.Query.html#3665" class="Bound">x</a> <a id="3710" href="StateSizedIO.LIB.DB.Query.html#3656" class="Bound">s</a> <a id="3712" class="Symbol">{</a><a id="3713" href="StateSizedIO.LIB.DB.Query.html#3668" class="Bound">p</a><a id="3714" class="Symbol">}))</a> <a id="3718" href="StateSizedIO.LIB.DB.Query.html#2342" class="InductiveConstructor Operator">FROM</a> <a id="3723" href="StateSizedIO.LIB.DB.Query.html#3665" class="Bound">x</a> <a id="3725" href="Agda.Builtin.List.html#173" class="InductiveConstructor Operator">∷</a> <a id="3727" href="Agda.Builtin.List.html#158" class="InductiveConstructor">[]</a> <a id="3730" href="StateSizedIO.LIB.DB.Query.html#2342" class="InductiveConstructor Operator">WHERE</a> <a id="3736" href="Agda.Builtin.List.html#158" class="InductiveConstructor">[]</a>
<a id="3739" href="StateSizedIO.LIB.DB.Query.html#3608" class="Function">toSQL</a> <a id="3745" class="Symbol">(</a><a id="3746" href="StateSizedIO.LIB.DB.Query.html#3746" class="Bound">q₁</a> <a id="3749" href="StateSizedIO.LIB.DB.Query.html#1983" class="InductiveConstructor Operator">⊗</a> <a id="3751" href="StateSizedIO.LIB.DB.Query.html#3751" class="Bound">q₂</a><a id="3753" class="Symbol">)</a> <a id="3755" class="Keyword">with</a> <a id="3760" href="StateSizedIO.LIB.DB.Query.html#3608" class="Function">toSQL</a> <a id="3766" href="StateSizedIO.LIB.DB.Query.html#3746" class="Bound">q₁</a> <a id="3769" class="Symbol">|</a> <a id="3771" href="StateSizedIO.LIB.DB.Query.html#3608" class="Function">toSQL</a> <a id="3777" href="StateSizedIO.LIB.DB.Query.html#3751" class="Bound">q₂</a>
<a id="3780" class="Symbol">...</a> <a id="3784" class="Symbol">|</a> <a id="3786" href="StateSizedIO.LIB.DB.Query.html#2342" class="InductiveConstructor Operator">SELECT</a> <a id="3793" href="StateSizedIO.LIB.DB.Query.html#3793" class="Bound">as₁</a> <a id="3797" href="StateSizedIO.LIB.DB.Query.html#2342" class="InductiveConstructor Operator">FROM</a> <a id="3802" href="StateSizedIO.LIB.DB.Query.html#3802" class="Bound">ts₁</a> <a id="3806" href="StateSizedIO.LIB.DB.Query.html#2342" class="InductiveConstructor Operator">WHERE</a> <a id="3812" href="StateSizedIO.LIB.DB.Query.html#3812" class="Bound">cs₁</a>
    <a id="3820" class="Symbol">|</a> <a id="3822" href="StateSizedIO.LIB.DB.Query.html#2342" class="InductiveConstructor Operator">SELECT</a> <a id="3829" href="StateSizedIO.LIB.DB.Query.html#3829" class="Bound">as₂</a> <a id="3833" href="StateSizedIO.LIB.DB.Query.html#2342" class="InductiveConstructor Operator">FROM</a> <a id="3838" href="StateSizedIO.LIB.DB.Query.html#3838" class="Bound">ts₂</a> <a id="3842" href="StateSizedIO.LIB.DB.Query.html#2342" class="InductiveConstructor Operator">WHERE</a> <a id="3848" href="StateSizedIO.LIB.DB.Query.html#3848" class="Bound">cs₂</a> <a id="3852" class="Symbol">=</a> <a id="3854" href="StateSizedIO.LIB.DB.Query.html#2342" class="InductiveConstructor Operator">SELECT</a> <a id="3861" class="Symbol">(</a><a id="3862" href="StateSizedIO.LIB.DB.Query.html#3793" class="Bound">as₁</a> <a id="3866" href="Data.List.Base.html#1810" class="Function Operator">++</a> <a id="3869" href="StateSizedIO.LIB.DB.Query.html#3829" class="Bound">as₂</a><a id="3872" class="Symbol">)</a> <a id="3874" href="StateSizedIO.LIB.DB.Query.html#2342" class="InductiveConstructor Operator">FROM</a> <a id="3879" class="Symbol">(</a><a id="3880" href="StateSizedIO.LIB.DB.DBUniverse.html#1797" class="Function">nub</a> <a id="3884" class="Symbol">(</a><a id="3885" href="StateSizedIO.LIB.DB.Query.html#3802" class="Bound">ts₁</a> <a id="3889" href="Data.List.Base.html#1810" class="Function Operator">++</a> <a id="3892" href="StateSizedIO.LIB.DB.Query.html#3838" class="Bound">ts₂</a><a id="3895" class="Symbol">))</a> <a id="3898" href="StateSizedIO.LIB.DB.Query.html#2342" class="InductiveConstructor Operator">WHERE</a> <a id="3904" class="Symbol">(</a><a id="3905" href="StateSizedIO.LIB.DB.Query.html#3812" class="Bound">cs₁</a> <a id="3909" href="Data.List.Base.html#1810" class="Function Operator">++</a> <a id="3912" href="StateSizedIO.LIB.DB.Query.html#3848" class="Bound">cs₂</a><a id="3915" class="Symbol">)</a>
<a id="3917" href="StateSizedIO.LIB.DB.Query.html#3608" class="Function">toSQL</a> <a id="3923" class="Symbol">(</a><a id="3924" href="StateSizedIO.LIB.DB.Query.html#2086" class="InductiveConstructor">proj</a> <a id="3929" href="StateSizedIO.LIB.DB.Query.html#3929" class="Bound">as</a> <a id="3932" href="StateSizedIO.LIB.DB.Query.html#3932" class="Bound">q</a><a id="3933" class="Symbol">)</a> <a id="3935" class="Keyword">with</a> <a id="3940" href="StateSizedIO.LIB.DB.Query.html#3608" class="Function">toSQL</a> <a id="3946" href="StateSizedIO.LIB.DB.Query.html#3932" class="Bound">q</a>
<a id="3948" class="Symbol">...</a> <a id="3952" class="Symbol">|</a> <a id="3954" href="StateSizedIO.LIB.DB.Query.html#2342" class="InductiveConstructor Operator">SELECT</a> <a id="3961" class="Symbol">_</a> <a id="3963" href="StateSizedIO.LIB.DB.Query.html#2342" class="InductiveConstructor Operator">FROM</a> <a id="3968" href="StateSizedIO.LIB.DB.Query.html#3968" class="Bound">ts</a> <a id="3971" href="StateSizedIO.LIB.DB.Query.html#2342" class="InductiveConstructor Operator">WHERE</a> <a id="3977" href="StateSizedIO.LIB.DB.Query.html#3977" class="Bound">cs</a> <a id="3980" class="Symbol">=</a> <a id="3982" href="StateSizedIO.LIB.DB.Query.html#2342" class="InductiveConstructor Operator">SELECT</a> <a id="3989" class="Bound">as</a> <a id="3992" href="StateSizedIO.LIB.DB.Query.html#2342" class="InductiveConstructor Operator">FROM</a> <a id="3997" href="StateSizedIO.LIB.DB.Query.html#3968" class="Bound">ts</a> <a id="4000" href="StateSizedIO.LIB.DB.Query.html#2342" class="InductiveConstructor Operator">WHERE</a> <a id="4006" href="StateSizedIO.LIB.DB.Query.html#3977" class="Bound">cs</a>
<a id="4009" href="StateSizedIO.LIB.DB.Query.html#3608" class="Function">toSQL</a> <a id="4015" class="Symbol">(</a><a id="4016" href="StateSizedIO.LIB.DB.Query.html#2184" class="InductiveConstructor">select</a> <a id="4023" href="StateSizedIO.LIB.DB.Query.html#4023" class="Bound">c</a> <a id="4025" href="StateSizedIO.LIB.DB.Query.html#4025" class="Bound">q</a><a id="4026" class="Symbol">)</a> <a id="4028" class="Keyword">with</a> <a id="4033" href="StateSizedIO.LIB.DB.Query.html#3608" class="Function">toSQL</a> <a id="4039" href="StateSizedIO.LIB.DB.Query.html#4025" class="Bound">q</a>
<a id="4041" class="Symbol">...</a> <a id="4045" class="Symbol">|</a> <a id="4047" href="StateSizedIO.LIB.DB.Query.html#2342" class="InductiveConstructor Operator">SELECT</a> <a id="4054" href="StateSizedIO.LIB.DB.Query.html#4054" class="Bound">as</a> <a id="4057" href="StateSizedIO.LIB.DB.Query.html#2342" class="InductiveConstructor Operator">FROM</a> <a id="4062" href="StateSizedIO.LIB.DB.Query.html#4062" class="Bound">ts</a> <a id="4065" href="StateSizedIO.LIB.DB.Query.html#2342" class="InductiveConstructor Operator">WHERE</a> <a id="4071" href="StateSizedIO.LIB.DB.Query.html#4071" class="Bound">cs</a> <a id="4074" class="Symbol">=</a> <a id="4076" href="StateSizedIO.LIB.DB.Query.html#2342" class="InductiveConstructor Operator">SELECT</a> <a id="4083" href="StateSizedIO.LIB.DB.Query.html#4054" class="Bound">as</a> <a id="4086" href="StateSizedIO.LIB.DB.Query.html#2342" class="InductiveConstructor Operator">FROM</a> <a id="4091" href="StateSizedIO.LIB.DB.Query.html#4062" class="Bound">ts</a> <a id="4094" href="StateSizedIO.LIB.DB.Query.html#2342" class="InductiveConstructor Operator">WHERE</a> <a id="4100" class="Symbol">(</a><a id="4101" href="StateSizedIO.LIB.DB.Query.html#3128" class="Function">showExpr</a> <a id="4110" class="Bound">c</a> <a id="4112" href="Agda.Builtin.List.html#173" class="InductiveConstructor Operator">∷</a> <a id="4114" href="StateSizedIO.LIB.DB.Query.html#4071" class="Bound">cs</a><a id="4116" class="Symbol">)</a>
</pre></body></html>